# C++ static 멤버 변수 심화 정리
## 🔹 개념 요약
- static 멤버 변수는 모든 객체가 공유하는 변수
- 프로그램 시작 시 메모리에 할당되고, 종료 시까지 유지
- 객체 생성 전에도 존재하며, 객체와 독립적으로 존재
- 클래스 이름으로 접근 가능 (ClassName::member)
- 객체 이름으로도 접근 가능하지만, 주소는 동일

## 🔹 선언 vs 정의

### ✅ 선언 (Declaration)
```cpp
class Something {
public:
    static int m_value;  // 선언: 메모리 차지하지 않음
};
```

- 컴파일러에 변수 정보만 전달
- 실제 메모리 할당은 없음

### ✅ 정의 (Definition)
```cpp
int Something::m_value = 1;  // 정의 및 초기화
```

- 전역 범위에서 정의해야 함 (.cpp 파일에서)
- 실제 메모리 할당이 이루어짐
- 반드시 초기화 필요 (Java처럼 클래스 내부 초기화 불가)

## 🔹 예제 코드
```cpp
#include <iostream>
using namespace std;

class Something {
public:
    static int m_value; // 선언
};

int Something::m_value = 1; // 정의 및 초기화

int main() {
    cout << Something::m_value << endl;        // 1
    cout << &Something::m_value << endl;       // 주소 출력

    Something st1;
    Something st2;

    st1.m_value = 2;
    cout << st1.m_value << endl;               // 2
    cout << &st1.m_value << endl;              // 동일 주소
    cout << st2.m_value << endl;               // 2
    cout << &st2.m_value << endl;              // 동일 주소

    st2.m_value = 1024;
    cout << Something::m_value << endl;        // 1024
}
```


## 🔹 메모리 구조 시각화
![static](/image/static_variable.jpg)


## 🔹 핵심 요약
| 항목 | 설명 | 
| 메모리 할당 시점 | 프로그램 시작 시 | 
| 메모리 유지 기간 | 프로그램 종료 시까지 | 
| 객체 생성 전 접근 | 가능 | 
| 접근 방법 | 클래스 이름 또는 객체 이름 | 
| 주소 | 모든 객체에서 동일 | 
| 정의 위치 | .cpp 파일에서만 가능 | 
| 클래스 내부 초기화 | ❌ 불가능 | 

---




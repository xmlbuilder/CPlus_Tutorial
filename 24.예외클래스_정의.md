# 예외클래스 만들기

C++에서 사용자 정의 예외 클래스를 만드는 방법과 `noexcept` 키워드의 동작을 설명하는 샘플 프로젝트입니다.

## 📌 주요 내용

### 1. 사용자 정의 예외 클래스란?

기본적으로 C++에서는 `int`, `string`, `std::exception` 등을 예외로 던질 수 있지만, 복잡한 상황에서는 **사용자 정의 예외 클래스**가 훨씬 더 유용합니다.

#### ✅ 왜 사용자 정의 예외 클래스를 만들까?

- **더 풍부한 정보 제공**  
  예외 발생 위치, 함수 이름, 상세 메시지 등 다양한 정보를 포함할 수 있습니다.

- **코드 가독성 향상**  
  예외의 의미를 명확하게 표현할 수 있어 유지보수에 유리합니다.  
  예: `DivideByZeroException`, `InvalidInputException`

- **예외 분류 및 처리 용이**  
  다양한 예외를 구분하여 `catch` 블록에서 세분화된 처리가 가능합니다.

- **객체 기반 프로그래밍과의 자연스러운 통합**  
  예외도 클래스이므로 상속, 다형성 등을 활용할 수 있습니다.

---

### 2. 예외 값의 종류

| 종류         | 설명                                      |
|--------------|-------------------------------------------|
| 기본 타입 예외 | `throw 1;`, `throw "error";` 등 단순 값 전달 |
| 객체 타입 예외 | 사용자 정의 클래스 객체를 `throw`로 전달      |

---

### 3. noexcept 키워드

- `noexcept`는 함수가 예외를 던지지 않음을 명시합니다.
- `noexcept` 함수에서 예외가 발생하면 `catch`로 처리되지 않고 `std::terminate()`가 호출되어 프로그램이 종료됩니다.

---

## 🧪 실행 예시

```cpp

#include <iostream>
#include <string>
using namespace std;

// 기본 예외 클래스
class MyException {
    int lineNo;
    string func, msg;

public:
    MyException(int lineNo, const string &func, const string &msg)
        : lineNo(lineNo), func(func), msg(msg) {}

    friend ostream &operator<<(ostream &os, const MyException &exception) {
        os << "lineNo: " << exception.lineNo
           << " func: " << exception.func
           << " msg: " << exception.msg;
        return os;
    }
};

// DivideByZero 예외 클래스
class DivideByZeroException : public MyException {
public:
    DivideByZeroException(int lineNo, const string &func, const string &msg)
        : MyException(lineNo, func, msg) {}
};

// InvalidInput 예외 클래스
class InvalidInputException : public MyException {
public:
    InvalidInputException(int lineNo, const string &func, const string &msg)
        : MyException(lineNo, func, msg) {}
};

int main() {
    int x, y;
    try {
        cout << "input 2 numbers: ";
        cin >> x >> y;

        if (x < 0 || y < 0) {
            throw InvalidInputException(__LINE__, "main()", "negative value");
        }

        if (y == 0) {
            throw DivideByZeroException(__LINE__, "main()", "zero value");
        }

        cout << "Result: " << static_cast<double>(x) / static_cast<double>(y) << endl;
    }
    catch (InvalidInputException &e) {
        cout << e << endl;
    }
    catch (DivideByZeroException &e) {
        cout << e << endl;
    }

    return 0;
}
```

```cpp
#include <iostream>
using namespace std;

int fn1() noexcept { return 0; }

int fn2() noexcept { throw 1; } // noexcept이지만 예외 발생 → 프로그램 종료

int fn3() { throw 2; } // 일반 예외 → catch 가능

void noexcept_test1() {
    // 예외가 catch되지 않음 → 프로그램 강제 종료
    try {
        fn2();
    }
    catch (int x) {
        cout << "Error: " << x << endl;
    }

    // 예외가 정상적으로 catch됨
    try {
        fn3();
    }
    catch (int x) {
        cout << "Error: " << x << endl;
    }
}

int main() {
    noexcept_test1();
    return 0;
}
```


## 💡 참고
- noexcept는 함수가 예외를 던지지 않음을 명시하며, 실제로 예외가 발생하면 std::terminate()가 호출됩니다.
- 예외 객체는 복사되어 전달되므로, 깊은 복사가 필요한 경우 주의가 필요합니다.

---

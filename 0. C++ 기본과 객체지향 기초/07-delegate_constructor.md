# C++11 위임 생성자(delegate constructor) 정리

## 📌 개요
C++11부터는 클래스 내에서 한 생성자가 다른 생성자를 호출할 수 있는 기능,  
즉 **위임 생성자(delegate constructor)** 가 도입되었습니다.  
이를 통해 생성자 간의 중복 코드를 제거하고 일관된 초기화 로직을 구현할 수 있습니다.

## 🔁 위임 생성자란?
- 클래스 내부의 한 생성자가 다른 생성자를 호출하여 초기화 작업을 위임함
- this를 통해 생성자를 호출하는 것이 아니라, 생성자 초기화 리스트에서 직접 호출
- 생성자 간 코드 중복을 줄이고, 유지보수를 쉽게 만들어줌

## 🧪 예제 코드

```cpp
#include <iostream>

class Base {
public:
    int value1;
    int value2;

    // 기본 생성자
    Base() {
        value1 = 1;
    }

    // 위임 생성자: Base()를 호출한 뒤 value2 초기화
    Base(int value) : Base() {
        value2 = value;
    }
};

int main() {
    Base b(2);

    std::cout << b.value1 << std::endl; // 1
    std::cout << b.value2 << std::endl; // 2

    return 0;
}
```

## 🧠 동작 설명
- Base(int value)는 먼저 Base()를 호출하여 value1 = 1을 수행
- 그 다음 value2 = value를 실행하여 value2를 초기화
- 결과적으로 value1 = 1, value2 = 2가 출력됨

## ✅ 위임 생성자의 장점
- 코드 중복 제거: 여러 생성자에서 공통 초기화 코드를 하나의 생성자에 집중
- 유지보수 용이: 초기화 로직을 한 곳에서 관리
- 가독성 향상: 생성자 간의 관계가 명확해짐

## ⚠️ 주의사항
- 위임 생성자는 초기화 리스트에서만 호출 가능
- 생성자 본문 내부에서 다른 생성자를 호출하는 것은 불가능
- 순환 위임(delegate loop)은 컴파일 에러 발생

```cpp
// ❌ 잘못된 예시: 생성자 본문에서 생성자 호출
Base(int value) {
    Base(); // 오류: 생성자 본문에서는 생성자 호출 불가
}
```


## 📌 요약
| 항목 | 설명 |
|--------|----------------------| 
| 도입 버전 | C++11 | 
| 사용 목적 | 생성자 간 코드 중복 제거 및 초기화 로직 재사용 | 
| 호출 방식 | 생성자 초기화 리스트에서 다른 생성자 호출 | 
| 주의사항 | 생성자 본문에서는 호출 불가, 순환 위임 금지 |

---





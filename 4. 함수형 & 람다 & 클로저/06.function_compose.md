# 📘 C++11 함수 합성 설명 문서 (Compose)

## 🔍 개요
이 문서는 C++11의 람다 표현식과 std::function을 활용하여 함수 합성을 구현한 코드에 대해 설명합니다.
함수 합성이란, 두 함수를 연결하여 하나의 새로운 함수를 만드는 기법입니다.
예: f(g(x))

## 📦 코드 전문
```cpp
#include <iostream>
#include <functional>
using namespace std;

auto compose = [](auto f, auto g) {
    return [=](auto... args) {
        return f(g(args...));
    };
};

int main()
{
    cout << compose(::negate{}, ::multiplies{})(4, 6);
}
```


## 🧠 핵심 구성 요소 설명
### 1. compose 람다
```cpp
auto compose = [](auto f, auto g) {
    return [=](auto... args) {
        return f(g(args...));
    };
};
```

- 입력: 두 함수 f, g
- 출력: f(g(args...)) 형태의 새로운 함수
- auto... args: 가변 인자 템플릿으로 여러 인자를 받을 수 있음
- [=]: 캡처 by-value로 f, g를 내부 람다에서 사용할 수 있게 함
📌 이 람다는 고차 함수로, 함수를 인자로 받고 함수를 반환합니다.

### 2. ::negate{} 와 ::multiplies{}
이 둘은 <functional> 헤더에 정의된 **함수 객체(function object)**입니다.
| 함수 객체 | 역할 | 예시 결과 |
|----------|------|---------| 
| std::multiplies<int>() | 두 값을 곱함 | 4 * 6 = 24 | 
| std::negate<int>() | 값을 음수로 바꿈 | -24 | 


### 3. compose(::negate{}, ::multiplies{})
- compose를 통해 negate(multiplies(x, y)) 형태의 합성 함수 생성
- compose(f, g)(x, y) → f(g(x, y))
즉, compose(::negate{}, ::multiplies{})(4, 6)는 다음과 같이 동작합니다:
```cpp
std::multiplies<int>()(4, 6) → 24  
std::negate<int>()(24) → -24
```


#### ✅ 실행 결과
-24



## 📌 확장 예시
다양한 함수 객체를 조합하면 더 복잡한 로직도 간단하게 표현할 수 있습니다:
```cpp
auto square = [](int x) { return x * x; };
auto double_then_square = compose(square, [](int x) { return x * 2; });
cout << double_then_square(5); // 출력: 100
```


🧩 요약
| 항목 | 설명 |
|------|-----| 
| compose | 두 함수를 합성하여 새로운 함수 생성 | 
| std::negate | 값을 음수로 바꾸는 함수 객체 | 
| std::multiplies | 두 값을 곱하는 함수 객체 | 
| 핵심 개념 | 고차 함수, 람다 표현식, 함수 객체 활용 | 

----





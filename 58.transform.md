# ğŸ› ï¸ std::transform ê°œìš”
std::transformì€ ì…ë ¥ ë²”ìœ„ì˜ ê° ìš”ì†Œì— ëŒ€í•´ ì§€ì •ëœ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ì¶œë ¥ ë²”ìœ„ì— ì €ì¥í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.  
std::transform(input_begin, input_end, output_begin, unary_op);  
std::transform(input1_begin, input1_end, input2_begin, output_begin, binary_op);

- Unary transform: í•˜ë‚˜ì˜ ì…ë ¥ ë²”ìœ„ì— ëŒ€í•´ ë‹¨ì¼ í•¨ìˆ˜ ì ìš©
- Binary transform: ë‘ ì…ë ¥ ë²”ìœ„ì˜ ìš”ì†Œë¥¼ ìŒìœ¼ë¡œ ë°›ì•„ í•¨ìˆ˜ ì ìš©

## âœ¨ ì˜ˆì œ 1: ë¬¸ìì—´ ëŒ€ë¬¸ì ë³€í™˜ ë° ASCII ì½”ë“œ ì¶œë ¥
```cpp
#include <algorithm>
#include <cctype>
#include <iostream>
#include <string>
#include <vector>

int main() {
    std::string s("hello");

    // ë¬¸ìì—´ì„ ëŒ€ë¬¸ìë¡œ ë³€í™˜
    std::transform(s.begin(), s.end(), s.begin(),
        [](unsigned char c) { return std::toupper(c); });

    // ê° ë¬¸ìì— ëŒ€í•œ ASCII ì½”ë“œ ì €ì¥
    std::vector<std::size_t> ordinals;
    std::transform(s.begin(), s.end(), std::back_inserter(ordinals),
        [](unsigned char c) { return static_cast<std::size_t>(c); });

    std::cout << s << ":";
    for (auto ord : ordinals) {
        std::cout << ' ' << ord;
    }
    std::cout << '\n';
}
// ì¶œë ¥: HELLO: 72 69 76 76 79
```


## âœ¨ ì˜ˆì œ 2: ë²¡í„° ìš”ì†Œ ë³€í™˜ ë° ì¶”ê°€
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <iterator>

int main() {
    std::vector<int> myvector {1, 2, 3, 4, 5};
    std::vector<int> output(4, 10); // ì´ˆê¸°ê°’ 10 ë„¤ ê°œ

    // myvectorì˜ ê° ìš”ì†Œì— 2ë¥¼ ê³±í•˜ì—¬ output ë’¤ì— ì¶”ê°€
    std::transform(myvector.begin(), myvector.end(), std::back_inserter(output),
        [](int n) { return n * 2; });

    for (const auto& val : output) {
        std::cout << val << " ";
    }
    std::cout << "\n";
}
// ì¶œë ¥: 10 10 10 10 2 4 6 8 10
```


## âœ¨ ì˜ˆì œ 3: map, filter, reduce ìŠ¤íƒ€ì¼
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <numeric>

int main() {
    std::vector<int> nums{1, 2, 3, 4};

    // map: ì œê³±
    std::vector<int> map_example;
    std::transform(nums.begin(), nums.end(), std::back_inserter(map_example),
        [](int x) { return x * x; });

    // filter: ì§ìˆ˜ë§Œ
    std::vector<int> filter_example;
    std::copy_if(nums.begin(), nums.end(), std::back_inserter(filter_example),
        [](int x) { return x % 2 == 0; });

    // reduce: ê³±ì…ˆ ëˆ„ì 
    int reduce_example = std::accumulate(nums.begin(), nums.end(), 1,
        [](int x, int y) { return x * y; });

    for (int i : map_example) std::cout << i << "\t"; // 1 4 9 16
    std::cout << "\n";
    for (int i : filter_example) std::cout << i << "\t"; // 2 4
    std::cout << "\n";
    std::cout << reduce_example << "\n"; // 24
}
```

## âœ¨ ì˜ˆì œ 4: std::accumulateì™€ ë¬¸ìì—´ ì ‘ê¸°
```cpp
#include <iostream>
#include <numeric>
#include <string>
#include <vector>
#include <functional>

int main() {
    std::vector<int> v{1,2,3,4,5,6,7,8,9,10};

    int sum = std::accumulate(v.begin(), v.end(), 0);
    int product = std::accumulate(v.begin(), v.end(), 1, std::multiplies<int>());

    auto dash_fold = [](std::string a, int b) {
        return std::move(a) + '-' + std::to_string(b);
    };

    std::string s = std::accumulate(std::next(v.begin()), v.end(), std::to_string(v[0]), dash_fold);
    std::string rs = std::accumulate(std::next(v.rbegin()), v.rend(), std::to_string(v.back()), dash_fold);

    std::cout << "sum: " << sum << "\n";
    std::cout << "product: " << product << "\n";
    std::cout << "dash-separated string: " << s << "\n";
    std::cout << "dash-separated string (right-folded): " << rs << "\n";
}
```



## âœ¨ ì˜ˆì œ 5: transform vs for ë£¨í”„ ë¹„êµ
```cpp
std::vector<int> src = {1, 2, 3, 4, 5};
std::vector<int> dst;

// ì „í†µì ì¸ for ë£¨í”„
for (int i = 0; i < src.size(); ++i) {
    dst.emplace_back(src[i] * 2);
}

// transform ë°©ì‹
dst.resize(src.size());
std::transform(src.begin(), src.end(), dst.begin(),
    [](int x) { return x * x; });
```

## ğŸ” Binary std::transform ì˜ˆì œ
ë‘ ê°œì˜ ì…ë ¥ ë²”ìœ„ë¥¼ ë°›ì•„ì„œ ê° ìš”ì†Œ ìŒì— ëŒ€í•´ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
```cpp
#include <iostream>
#include <vector>
#include <algorithm>

int main() {
    std::vector<int> a{1, 2, 3, 4, 5};
    std::vector<int> b{10, 20, 30, 40, 50};
    std::vector<int> result;

    // ë‘ ë²¡í„°ì˜ ê° ìš”ì†Œë¥¼ ë”í•´ì„œ resultì— ì €ì¥
    std::transform(a.begin(), a.end(), b.begin(), std::back_inserter(result),
        [](int x, int y) { return x + y; });

    for (int val : result) {
        std::cout << val << " ";
    }
    std::cout << "\n";
}
// ì¶œë ¥: 11 22 33 44 55
```

ğŸ“Œ ì£¼ì˜ì‚¬í•­:
- ë‘ ì…ë ¥ ë²”ìœ„ì˜ ê¸¸ì´ëŠ” ê°™ì•„ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì •ì˜ë˜ì§€ ì•Šì€ ë™ì‘ì´ ë°œìƒí•  ìˆ˜ ìˆì–´ìš”.
- std::back_inserterë¥¼ ì‚¬ìš©í•˜ë©´ resultì˜ í¬ê¸°ë¥¼ ë¯¸ë¦¬ ì§€ì •í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

## ğŸŒŠ std::ranges::transform (C++20 ì´í›„)
```cpp
ë²”ìœ„ ê¸°ë°˜ìœ¼ë¡œ ë” ì•ˆì „í•˜ê³  ê°„ê²°í•˜ê²Œ transformì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.
#include <iostream>
#include <vector>
#include <ranges>
#include <algorithm>

int main() {
    std::vector<int> nums{1, 2, 3, 4, 5};
    std::vector<int> squares(nums.size());

    // ë²”ìœ„ ê¸°ë°˜ transform
    std::ranges::transform(nums, squares.begin(),
        [](int x) { return x * x; });

    for (int val : squares) {
        std::cout << val << " ";
    }
    std::cout << "\n";
}
// ì¶œë ¥: 1 4 9 16 25
```

### âœ… ì¥ì 
- begin()/end()ë¥¼ ì§ì ‘ ì§€ì •í•  í•„ìš” ì—†ì´ ì»¨í…Œì´ë„ˆ ìì²´ë¥¼ ë²”ìœ„ë¡œ ì‚¬ìš© ê°€ëŠ¥
- ì»¨ì…‰ ê¸°ë°˜ ì œì•½ìœ¼ë¡œ ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì˜¤ë¥˜ë¥¼ ì¡ì•„ì¤Œ
- viewsì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ **ì§€ì—° í‰ê°€(lazy evaluation)**ë„ ê°€ëŠ¥

## ğŸ§ª std::ranges::transform + views ì˜ˆì œ
```cpp
#include <iostream>
#include <vector>
#include <ranges>

int main() {
    std::vector<int> nums{1, 2, 3, 4, 5};

    // ì œê³±ê°’ì„ ì§€ì—° í‰ê°€ë¡œ ìƒì„±
    auto squared_view = nums | std::views::transform([](int x) { return x * x; });

    for (int val : squared_view) {
        std::cout << val << " ";
    }
    std::cout << "\n";
}
// ì¶œë ¥: 1 4 9 16 25
```

ğŸ’¡ views::transformì€ ê²°ê³¼ë¥¼ ì¦‰ì‹œ ì €ì¥í•˜ì§€ ì•Šê³ , í•„ìš”í•  ë•Œ ê³„ì‚°í•©ë‹ˆë‹¤.  
ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ë›°ì–´ë‚˜ê³ , íŒŒì´í”„ë¼ì¸ ìŠ¤íƒ€ì¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆì–´ ê°€ë…ì„±ë„ ì¢‹ìŠµë‹ˆë‹¤.

## ğŸŒŠ std::ranges::transform + filter-map-reduce
C++20ì˜ <ranges> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ë©´ filter, transform, accumulateë¥¼ ì¡°í•©í•´ íŒŒì´í”„ë¼ì¸ ìŠ¤íƒ€ì¼ë¡œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ”§ ì˜ˆì œ ì½”ë“œ
```cpp
#include <iostream>
#include <vector>
#include <ranges>
#include <numeric> // for std::accumulate

int main() {
    std::vector<int> nums{1, 2, 3, 4, 5, 6};

    // 1. filter: ì§ìˆ˜ë§Œ ì„ íƒ
    auto filtered = nums | std::views::filter([](int x) { return x % 2 == 0; });

    // 2. map(transform): ì œê³±
    auto mapped = filtered | std::views::transform([](int x) { return x * x; });

    // 3. reduce(accumulate): í•©ì‚°
    int reduced = std::accumulate(mapped.begin(), mapped.end(), 0);

    // ì¶œë ¥
    std::cout << "Filtered & Squared: ";
    for (int val : mapped) {
        std::cout << val << " ";
    }
    std::cout << "\nSum: " << reduced << "\n";
}
```

### âœ… ì‹¤í–‰ ê²°ê³¼
```
Filtered & Squared: 4 16 36
Sum: 56
```


## ğŸ§  í•µì‹¬ ê°œë… ìš”ì•½
| ë‹¨ê³„ | ê¸°ëŠ¥ ì„¤ëª… | C++ í‘œí˜„ ë°©ì‹ |
|-----|----------|--------------| 
| Filter | ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë§Œ ì„ íƒ | std::views::filter(predicate) | 
| Map | ê° ìš”ì†Œì— ì—°ì‚° ì ìš© | std::views::transform(function) | 
| Reduce | ëª¨ë“  ìš”ì†Œë¥¼ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ì¶•ì•½ | std::accumulate(begin, end, init) | 



## ğŸ’¡ íŒ
- viewsëŠ” **ì§€ì—° í‰ê°€(lazy evaluation)**ë¥¼ ì§€ì›í•˜ë¯€ë¡œ ì„±ëŠ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.
- autoë¥¼ ì ê·¹ í™œìš©í•˜ë©´ ì½”ë“œê°€ ê°„ê²°í•´ì§€ê³  ê°€ë…ì„±ì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤.
- std::ranges::transformì€ views::transformê³¼ ë‹¬ë¦¬ ê²°ê³¼ë¥¼ ì¦‰ì‹œ ì €ì¥í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

---


# ğŸ§  std::accumulate ê°œë… ìš”ì•½
T std::accumulate(InputIt first, InputIt last, T init);
T std::accumulate(InputIt first, InputIt last, T init, BinaryOp op);


- init: ëˆ„ì ì˜ ì‹œì‘ê°’
- op: ë‘ ê°’ì„ ë°›ì•„ ëˆ„ì í•˜ëŠ” í•¨ìˆ˜ (ê¸°ë³¸ì€ +)
- C++11ë¶€í„°ëŠ” ëŒë‹¤ë¥¼ ììœ ë¡­ê²Œ ì‚¬ìš© ê°€ëŠ¥

## ğŸ” C++11 ìŠ¤íƒ€ì¼ ë³´ê°• í¬ì¸íŠ¸
### âœ… 1. ëŒë‹¤ë¥¼ í™œìš©í•œ ì»¤ìŠ¤í…€ ëˆ„ì 
auto sum = std::accumulate(v.begin(), v.end(), 0,
    [](int acc, int val) { return acc + val; });


- std::plus<int>() ëŒ€ì‹  ëŒë‹¤ë¥¼ ì“°ë©´ ë” ìœ ì—°í•˜ê²Œ ì¡°ê±´ ì¶”ê°€ ê°€ëŠ¥

### âœ… 2. ì¡°ê±´ ëˆ„ì  (ì˜ˆ: ì§ìˆ˜ë§Œ ë”í•˜ê¸°)
int even_sum = std::accumulate(v.begin(), v.end(), 0,
    [](int acc, int val) {
        return val % 2 == 0 ? acc + val : acc;
    });

- ì¡°ê±´ë¶€ ëˆ„ì ì€ std::copy_ifë³´ë‹¤ ê°„ê²°í•˜ê²Œ ì²˜ë¦¬ ê°€ëŠ¥

### âœ… 3. êµ¬ì¡°ì²´ ëˆ„ì  (ë³µí•© íƒ€ì…)
```cpp
struct Stats {
    int sum = 0;
    int count = 0;
};

Stats result = std::accumulate(v.begin(), v.end(), Stats{},
    [](Stats acc, int val) {
        acc.sum += val;
        acc.count++;
        return acc;
    });

std::cout << "Average: " << static_cast<double>(result.sum) / result.count << "\n";
```

- C++11ì˜ êµ¬ì¡°ì²´ ì´ˆê¸°í™”ì™€ ëŒë‹¤ë¥¼ ì¡°í•©í•˜ë©´ í†µê³„ ê³„ì‚°ë„ ê¹”ë”í•˜ê²Œ ê°€ëŠ¥

### âœ… 4. ë¬¸ìì—´ ëˆ„ì  (fold ìŠ¤íƒ€ì¼)
ì´ë¯¸ ì˜ ì‘ì„±í•˜ì‹  dash_fold ì˜ˆì œì— ì¶”ê°€ ì„¤ëª…ì„ ë¶™ì´ìë©´:
```cpp
auto dash_fold = [](std::string a, int b) {
    return std::move(a) + '-' + std::to_string(b);
};
```

- std::move(a)ë¥¼ ì‚¬ìš©í•˜ë©´ ë³µì‚¬ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ
- std::next(v.begin())ë¥¼ ì‚¬ìš©í•´ ì²« ìš”ì†ŒëŠ” ì´ˆê¸°ê°’ìœ¼ë¡œ, ë‚˜ë¨¸ì§€ë¥¼ ëˆ„ì 

### âœ… 5. ì˜¤ë¥¸ìª½ fold (reverse iterator)
```cpp
std::string rs = std::accumulate(std::next(v.rbegin()), v.rend(),
                                 std::to_string(v.back()), dash_fold);
```

- std::accumulateëŠ” ì™¼ìª½ foldë§Œ ì§€ì›í•˜ì§€ë§Œ, reverse iteratorë¥¼ ì“°ë©´ ì˜¤ë¥¸ìª½ foldì²˜ëŸ¼ ë™ì‘

### ğŸ§ª std::functionì„ ì´ìš©í•œ ë™ì  ëˆ„ì  í•¨ìˆ˜
std::function<int(int, int)> custom_op = [](int x, int y) {
    return x * y + 1;
};

int result = std::accumulate(v.begin(), v.end(), 1, custom_op);


- std::functionì„ ì“°ë©´ ë™ì ìœ¼ë¡œ ëˆ„ì  í•¨ìˆ˜ë¥¼ ë°”ê¿€ ìˆ˜ ìˆìŒ
- ë‹¨, ì„±ëŠ¥ì€ ëŒë‹¤ë³´ë‹¤ ì•½ê°„ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŒ

## ğŸ§© ì „ì²´ ìš”ì•½

| íŒ¨í„´ | ì„¤ëª… | ì˜ˆì‹œ í•¨ìˆ˜ |
|------|------|---------|
| ê¸°ë³¸ í•©ì‚° | ëª¨ë“  ìš”ì†Œ ë”í•˜ê¸° | + ë˜ëŠ” std::plus<int>() | 
| ì¡°ê±´ ëˆ„ì  | íŠ¹ì • ì¡°ê±´ ë§Œì¡±í•˜ëŠ” ìš”ì†Œë§Œ ëˆ„ì  | if í¬í•¨ ëŒë‹¤ | 
| êµ¬ì¡°ì²´ ëˆ„ì  | ë³µí•© í†µê³„ ê³„ì‚° | Stats êµ¬ì¡°ì²´ | 
| ë¬¸ìì—´ ì ‘ê¸° | ìš”ì†Œë¥¼ ë¬¸ìì—´ë¡œ ì—°ê²° | dash_fold | 
| ì˜¤ë¥¸ìª½ fold | ë§ˆì§€ë§‰ë¶€í„° ì ‘ê¸° | rbegin() ì‚¬ìš© | 
| ë™ì  ì—°ì‚° | ëŸ°íƒ€ì„ì— ì—°ì‚° ì •ì˜ ê°€ëŠ¥ | std::function | 

---

# ğŸ” std::copy_if
std::copy_if(input_begin, input_end, output_iterator, predicate);


- ì…ë ¥ ë²”ìœ„ì—ì„œ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìš”ì†Œë§Œ ì¶œë ¥ ë°˜ë³µìë¥¼ í†µí•´ ë³µì‚¬í•©ë‹ˆë‹¤.
- predicateëŠ” boolì„ ë°˜í™˜í•˜ëŠ” ì¡°ê±´ í•¨ìˆ˜ì…ë‹ˆë‹¤.

## ğŸ§ª ì˜ˆì œ ë¶„ì„
```cpp
std::copy_if(nums.begin(), nums.end(), std::back_inserter(filter_example),
             [](const auto& x) { return x % 2 == 0; });
```

## ğŸ”§ ë™ì‘ ì„¤ëª…
- numsì˜ ê° ìš”ì†Œë¥¼ ìˆœíšŒ
- x % 2 == 0 ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìš”ì†Œë§Œ ì„ íƒ (ì§ìˆ˜ í•„í„°ë§)
- filter_example ë²¡í„° ë’¤ì— push_back()ìœ¼ë¡œ ì¶”ê°€ (std::back_inserter)
ğŸ“Œ const auto& xë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì… ì¶”ë¡ ì´ ìë™ìœ¼ë¡œ ë˜ê³ , ë³µì‚¬ ë¹„ìš©ë„ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”.

âœ… ì™œ std::copy_ifê°€ ìœ ìš©í•œê°€?
| ì¥ì  | ì„¤ëª… | 
|-----|------|
| ì¡°ê±´ í•„í„°ë§ | ifë¬¸ ì—†ì´ ì„ ì–¸ì  ìŠ¤íƒ€ì¼ë¡œ í•„í„°ë§ ê°€ëŠ¥ | 
| ë²”ìš©ì„± | ëª¨ë“  ë°˜ë³µìì™€ ì»¨í…Œì´ë„ˆì— ì ìš© ê°€ëŠ¥ | 
| ëŒë‹¤ ì§€ì› | C++11 ì´í›„ ì¡°ê±´ì„ ììœ ë¡­ê²Œ ì •ì˜ ê°€ëŠ¥ | 
| back_inserterì™€ ê¶í•© | ì¶œë ¥ ì»¨í…Œì´ë„ˆ í¬ê¸° ë¯¸ë¦¬ ì§€ì •í•  í•„ìš” ì—†ìŒ | 



## ğŸ§  ë‹¤ì–‘í•œ í™œìš© ì˜ˆì‹œ
### 1. í™€ìˆ˜ë§Œ ë³µì‚¬
```cpp
std::copy_if(nums.begin(), nums.end(), std::back_inserter(odds),
             [](int x) { return x % 2 != 0; });
```

### 2. íŠ¹ì • ë²”ìœ„ í•„í„°ë§
```cpp
std::copy_if(nums.begin(), nums.end(), std::back_inserter(in_range),
             [](int x) { return x >= 3 && x <= 7; });
```

### 3. ë¬¸ìì—´ ê¸¸ì´ í•„í„°ë§
```cpp
std::vector<std::string> words{"cat", "elephant", "dog", "tiger"};
std::vector<std::string> long_words;

std::copy_if(words.begin(), words.end(), std::back_inserter(long_words),
             [](const std::string& s) { return s.length() > 4; });

```

âš ï¸ ì£¼ì˜ì‚¬í•­
- ì¶œë ¥ ì»¨í…Œì´ë„ˆê°€ push_back()ì„ ì§€ì›í•´ì•¼ std::back_inserter ì‚¬ìš© ê°€ëŠ¥ (vector, list, deque)
- std::copy_ifëŠ” C11ë¶€í„° ë„ì…ëœ í•¨ìˆ˜ì…ë‹ˆë‹¤. C03ì—ì„œëŠ” ì§ì ‘ for ë£¨í”„ë¥¼ ì¨ì•¼ í–ˆì–´ìš”.


----

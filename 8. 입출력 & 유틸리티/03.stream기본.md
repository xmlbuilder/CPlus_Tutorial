# C++ 스트림과 파일 입출력 완전 정복
## 📌 스트림이란?
- **스트림(stream)**은 순서가 있는 데이터의 연속적인 흐름을 의미합니다.
- 입출력을 물의 흐름처럼 간주하며, 프로그램과 외부 장치(파일, 키보드, 화면 등)를 연결합니다.

## 🧱 스트림 클래스 계층 구조
          ios
         /    \
   istream   ostream
       \       /
       iostream
      /       \
ifstream     ofstream
      \       /
      fstream


| 클래스 | 역할 |
|-------|------} 
| ifstream | 파일에서 읽기 | 
| ofstream | 파일에 쓰기 | 
| fstream | 하나의 파일에 대해 읽기와 쓰기 모두 가능 | 



## 🛠️ 파일 모드 정리
|---------|------|
| 파일 모드 | 설명 | 
| ios::in | 읽기 전용 | 
| ios::out | 쓰기 전용 | 
| ios::app | 파일 끝에 추가 | 
| ios::ate | 파일 끝에서 시작, 포인터 이동 가능 | 
| ios::trunc | 기존 내용 삭제 후 새로 쓰기 | 
| ios::binary | 바이너리 모드로 열기 | 


여러 모드를 | 연산자로 조합 가능:
ofstream fout("data.txt", ios::out | ios::app);


## 📂 텍스트 I/O vs 바이너리 I/O
| 구분 | 텍스트 I/O | 바이너리 I/O | 
|------|-----------|------------=|
| 단위 | 문자 | 바이트 | 
| 해석 방식 | 문자로 해석 | 그대로 저장/읽음 | 
| 개행 문자 | \n 처리 | 그대로 저장됨 | 
| 용도 | 사람이 읽는 파일 | 구조체, 이미지, 오디오 등 | 



## 💻 실용 예제
### 1. 텍스트 파일 쓰기
```cpp
#include <fstream>
int main() {
    std::ofstream fout("number.txt");
    for (int i = 0; i < 10; ++i) fout << i << " ";
}
```


### 2. 텍스트 파일 읽기
```cpp
#include <fstream>
#include <iostream>
int main() {
    std::ifstream fin("number.txt");
    int num;
    while (fin >> num) std::cout << num << std::endl;
}
```


### 3. 바이너리 파일 쓰기/읽기
```cpp
#include <fstream>
int main() {
    int buffer[] = {10, 20, 30, 40, 50};
    std::ofstream os("data.bin", std::ios::binary);
    os.write((char*)buffer, sizeof(buffer));
    os.close();

    int readBuf[5] = {};
    std::ifstream is("data.bin", std::ios::binary);
    is.read((char*)readBuf, sizeof(readBuf));
    for (int val : readBuf) std::cout << val << std::endl;
}
```


### 4. 한 줄씩 읽기 (getline)
```cpp
#include <fstream>
#include <iostream>
#include <string>
int main() {
    std::ifstream fin("text.txt");
    std::string line;
    while (std::getline(fin, line)) {
        std::cout << line << std::endl;
    }
}
```


### 5. 문자 단위 읽기 (get)
```cpp
#include <fstream>
#include <iostream>
int main() {
    std::ifstream fin("text.txt");
    char ch;
    while (fin.get(ch)) {
        std::cout << ch;
    }
}
```


### 6. 블록 단위 읽기 (read / gcount)
```cpp
#include <fstream>
#include <iostream>
int main() {
    std::ifstream fin("text.txt", std::ios::binary);
    char buf[32];
    while (!fin.eof()) {
        fin.read(buf, 32);
        std::cout.write(buf, fin.gcount());
    }
}
```
---





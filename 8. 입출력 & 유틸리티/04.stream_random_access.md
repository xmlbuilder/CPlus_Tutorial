# ğŸ“˜ C++ íŒŒì¼ ì„ì˜ ì ‘ê·¼(Random Access) ì •ë¦¬
## ğŸ“Œ ìˆœì°¨ ì ‘ê·¼ vs ì„ì˜ ì ‘ê·¼

| ì ‘ê·¼ ë°©ì‹ | ì„¤ëª… | ì˜ˆì‹œ |
|----------|-----|------| 
| ìˆœì°¨ ì ‘ê·¼ | íŒŒì¼ì˜ ì²˜ìŒë¶€í„° ëê¹Œì§€ ë°ì´í„°ë¥¼ ìˆœì„œëŒ€ë¡œ ì½ê±°ë‚˜ ì”€ | í…ìŠ¤íŠ¸ ë¡œê·¸ íŒŒì¼ | 
| ì„ì˜ ì ‘ê·¼ | íŒŒì¼ì˜ íŠ¹ì • ìœ„ì¹˜ë¡œ ì´ë™í•˜ì—¬ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì”€ | ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë² ì´ìŠ¤, ë ˆì½”ë“œ íŒŒì¼ | 


## ğŸ“ íŒŒì¼ ìœ„ì¹˜ í‘œì‹œì (File Pointer)
C++ì—ì„œëŠ” ë‘ ê°œì˜ íŒŒì¼ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:
| í¬ì¸í„° | ì„¤ëª… |
|-------|------| 
| get pointer | ë‹¤ìŒì— ì½ì„ ìœ„ì¹˜ | 
| put pointer | ë‹¤ìŒì— ì“¸ ìœ„ì¹˜ | 



## ğŸ”§ ìœ„ì¹˜ ì œì–´ í•¨ìˆ˜
| í•¨ìˆ˜ | ì„¤ëª… | 
|-------|------| 
| seekg(pos) | get pointerë¥¼ ì ˆëŒ€ ìœ„ì¹˜ posë¡œ ì´ë™ | 
| seekg(offset, dir) | get pointerë¥¼ dir ê¸°ì¤€ìœ¼ë¡œ offsetë§Œí¼ ì´ë™ | 
| seekp(pos) | put pointerë¥¼ ì ˆëŒ€ ìœ„ì¹˜ posë¡œ ì´ë™ | 
| seekp(offset, dir) | put pointerë¥¼ dir ê¸°ì¤€ìœ¼ë¡œ offsetë§Œí¼ ì´ë™ | 
| tellg() | í˜„ì¬ get pointer ìœ„ì¹˜ ë°˜í™˜ | 
| tellp() | í˜„ì¬ put pointer ìœ„ì¹˜ ë°˜í™˜ | 


## ğŸ“· ì•„ë˜ ì´ë¯¸ì§€ëŠ” seekgì™€ tellgì˜ ìœ„ì¹˜ ì´ë™ì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤:

![file_acccess](/image/file_access.jpg)
- seekg(0, ios::beg) â†’ ì‹œì‘ ìœ„ì¹˜ë¡œ ì´ë™
- seekg(13, ios::end) â†’ 13ë²ˆì§¸ ë°”ì´íŠ¸ë¡œ ì´ë™
- tellg() â†’ í˜„ì¬ ìœ„ì¹˜ ë°˜í™˜

## ğŸ“‚ seekdir ì˜µì…˜
| ì˜µì…˜ | ê¸°ì¤€ ìœ„ì¹˜ | 
| ios::beg | íŒŒì¼ì˜ ì‹œì‘ | 
| ios::cur | í˜„ì¬ ìœ„ì¹˜ | 
| ios::end | íŒŒì¼ì˜ ë | 


## ğŸ“ íŒŒì¼ í¬ê¸° êµ¬í•˜ê¸°
long getFileSize(std::ifstream& fin) {
    fin.seekg(0, std::ios::end);
    return fin.tellg();
}



## ğŸ’» ì‹¤ìš© ì˜ˆì œ: ë°”ì´ë„ˆë¦¬ íŒŒì¼ì— ì„ì˜ ì ‘ê·¼
```cpp
#include <fstream>
#include <iostream>

constexpr int SIZE = 10;

int main() {
    double data;
    std::ofstream fout("test.txt", std::ios::binary);
    for (int i = 0; i < SIZE; i++) {
        data = (double)rand() / RAND_MAX;
        fout.write(reinterpret_cast<char*>(&data), sizeof(data));
    }
    fout.close();

    std::ifstream fin("test.txt", std::ios::binary);
    fin.seekg(sizeof(double) * 5); // 6ë²ˆì§¸ ê°’ìœ¼ë¡œ ì´ë™
    fin.read(reinterpret_cast<char*>(&data), sizeof(data));
    std::cout << "6th value: " << data << std::endl;
}
```
---




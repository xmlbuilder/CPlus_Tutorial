# 📖 C++ String Parsing with String Streams

C++에서는 문자열을 파싱하거나 조립하기 위해 `<sstream>` 헤더의
**istringstream**, **ostringstream**, **stringstream** 클래스를 사용할
수 있습니다.\
이는 `iostream` 계열 스트림과 동일한 인터페이스를 제공하지만, **입출력
대상이 문자열**이라는 점이 특징입니다.

------------------------------------------------------------------------

## 🔹 istringstream

`istringstream`은 문자열을 입력받아 **다른 형식으로 변환**하는 데
사용됩니다.\
즉, 문자열을 파싱하여 변수에 맞게 변환할 수 있습니다.

``` cpp
#include <iostream>
#include <sstream>
#include <string>

using namespace std;

int main() {
    istringstream iss("test1 123 aaa 456");
    int integer1, integer2;
    string str1, str2;

    // 공백을 기준으로 문자열을 parsing, 변수 형식에 맞게 변환
    iss >> str1 >> integer1 >> str2 >> integer2;

    cout << str1 << endl;    // test1
    cout << integer1 << endl; // 123
    cout << str2 << endl;    // aaa
    cout << integer2 << endl; // 456
}
```

✅ 문자열 `"test1 123 aaa 456"` → 순차적으로 변수에 분리 및 변환

------------------------------------------------------------------------

## 🔹 ostringstream

`ostringstream`은 **문자열을 조립**하거나, **수치 → 문자열 변환**에
사용됩니다.\
출력 스트림(`cout`)처럼 데이터를 추가한 뒤, 최종적으로 `.str()`을 이용해
조립된 문자열을 가져올 수 있습니다.

``` cpp
#include <iostream>
#include <sstream>

int main() {
    std::ostringstream oss;
    std::string s1 = "abc", s2 = "gjw";
    int i1 = 19234;
    double d1 = 3.591;

    // 문자열 붙이기
    oss << s1 << "\n" << i1 << "\n" << s2 << "\n" << d1;

    // str() : ostringstream 객체에서 조립된 문자열 반환
    std::cout << oss.str() << std::endl;

    /*
    abc
    19234
    gjw
    3.591
    */
}
```

------------------------------------------------------------------------

## 🔹 stringstream

`stringstream`은 문자열을 입력받아 **공백 단위 토큰 분리**를 기본으로
수행합니다.\
즉, 문자열을 `>>` 연산자로 꺼내면 공백/줄바꿈 기준으로 분리됩니다.

``` cpp
#include <iostream>
#include <sstream>
#include <string>

int main() {
    std::string str = "123 456 789\nabc\ndef", token;
    std::stringstream ss(str);

    while (ss >> token) {
        std::cout << token << std::endl;
    }

    /*
    123
    456
    789
    abc
    def
    */
}
```

또한 `getline()`을 이용하면 **임의의 구분자**로 문자열을 분리할 수
있습니다.

``` cpp
#include <iostream>
#include <sstream>
#include <string>
using namespace std;

int main() {
    string str = "gkg|qiew|789", token;
    stringstream ss(str);

    while (getline(ss, token, '|')) {
        cout << token << endl;
    }

    /*
    gkg
    qiew
    789
    */
}
```

------------------------------------------------------------------------

## 📌 정리

-   **istringstream** : 문자열 → 변수 변환 (입력 스트림 역할)\
-   **ostringstream** : 변수 → 문자열 변환 및 조립 (출력 스트림 역할)\
-   **stringstream** : 문자열 기반 입출력 스트림 (공백 단위 파싱,
    `getline`으로 커스텀 구분자 지원)

👉 세 가지를 적절히 활용하면 **CSV 파싱, 로그 처리, 문자열 포맷팅** 등에
유용하게 활용할 수 있습니다.
